<form #form="ngForm" form="form" (ngSubmit)="onSaveChanges(form)">

  <mat-card-content>
    <mat-form-field>
      <input name="size" #size="ngModel" [ngModel]="settings!.size" matInput required pattern="^(0(\.\d+)?|1(\.0+)?)$"
        [disabled]="isDisabled!">
      <mat-error *ngIf="!size.valid" class="alert alert-danger">
        Size must be a number between 0-1
      </mat-error>
      <span matTextPrefix>Size</span>
    </mat-form-field>

    <mat-form-field>
      <input name="funding" #funding="ngModel" [ngModel]="settings!.funding" matInput required
        pattern="^(0(\.\d+)?|1(\.0+)?)$" [disabled]="isDisabled!">
      <mat-error *ngIf="!funding.valid" class="alert alert-danger">
        Funding must be a number between 0-1
      </mat-error>
      <span matTextPrefix>Funding</span>
    </mat-form-field>

    <mat-form-field>
      <input name="age" #age="ngModel" [ngModel]="settings!.age" matInput required pattern="^(0(\.\d+)?|1(\.0+)?)$"
        [disabled]="isDisabled!">
      <mat-error *ngIf="!age.valid" class="alert alert-danger">
        Age must be a number between 0-1
      </mat-error>
      <span matTextPrefix>Age</span>
    </mat-form-field>

    <mat-form-field>
      <input name="userScoring" #userScoring="ngModel" [ngModel]="settings!.userScoring" matInput required
        pattern="^(0(\.\d+)?|1(\.0+)?)$" [disabled]="isDisabled! || disableUserScoring!">
      <mat-error *ngIf="!userScoring.valid" class="alert alert-danger">
        User scoring must be a number between 0-1
      </mat-error>
      <span class="prefix" matTextPrefix>User scoring</span>
    </mat-form-field>

  </mat-card-content>

  <mat-card-actions>
    <button type="button" mat-raised-button (click)="editMode(form)">
      {{ isDisabled ? 'Edit settings' : 'Cancel' }}
    </button>
    <button type="submit" *ngIf="!isDisabled" mat-raised-button [disabled]="!form.form.valid">Save changes</button>
  </mat-card-actions>
</form>